<div class="grid-container">
  <div class="dashboard-title">Dashboard</div>
  <ul class="box-info">
    <li>
      <i class="bx bx-shopping-bag"></i>
      <span class="text">
        <h3>{{totalOrdersElements}}</h3>
        <p>Total de Pedidos</p>
      </span>
    </li>
    <li>
      <i class="bx bxs-user-account"></i>
      <span class="text">
        <h3>{{totalUsersElements}}</h3>
        <p>Total de Usuários</p>
      </span>
    </li>
    <li>
      <i class="bx bxs-dollar-circle"></i>
      <span class="text">
        <h3>{{totalSalesAmount | currency: 'BRL'}}</h3>
        <p>Total de vendas</p>
      </span>
    </li>
  </ul>

  <div class="card-main-first">
    <div class="card-container">
      <div class="card-content">
        <div class="head">
          <h3>Produtos mais vendidos</h3>
        </div>
        <div class="chart-container">
          <canvas
            id="mostSellingChart"
          ></canvas>
        </div>
      </div>
    </div>

    <div class="card-container">
      <div class="card-content">
        <div class="head">
          <h3>Vendas Mensais</h3>
        </div>
        <div class="chart-container">
          <canvas id="salesByMonthChart"></canvas>
        </div>
      </div>
    </div>
  </div>

  <div class="card-main-second">
    <div class="card-container">
      <div class="card-content">
        <div class="head">
          <h3>Pedidos Recentes</h3>
        </div>
        <table>
          <thead>
            <tr>
              <th>Usuário</th>
              <th>Data do Pedido</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let order of recentOrders">
              <td>{{ order.user.firstName }} {{ order.user.lastName }}</td>
              <td>{{  order.date | date : "dd/MM/yyyy" }}</td>
              <td>
                <span [ngClass]="getStatusClass(order.shipped)">
                  {{ formatStatus(order.shipped) }}
                </span>
              </td>
            </tr>
          </tbody>
        </table>
        <p *ngIf="!recentOrders">Carregando...</p>
      </div>
    </div>

    <div class="card-container">
      <div class="card-content">
        <div class="head">
          <h3>Faturamento Mensal</h3>
        </div>
        <div class="chart-container">
          <canvas id="revenueChart"></canvas>
        </div>
      </div>
    </div>
  </div>
</div>
