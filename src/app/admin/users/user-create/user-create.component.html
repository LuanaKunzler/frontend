<div class="mat-elevation-z8 new-user-content">
  <div class="new-user-title">Novo Usuário</div>
  <div *ngIf="innerLoading" class="loader-admin"></div>
  <div *ngIf="!innerLoading">
    <form [formGroup]="userForm" id="userForm" (ngSubmit)="createUser()">
      <div class="info row">
        <div class="col-6 mb-3">
          <div class="form-group">
            <label for="firstName">Nome</label>
            <input
              type="text"
              id="firstName"
              class="form-control"
              name="firstName"
              formControlName="firstName"
              [maxlength]="52"
            />
          </div>
        </div>

        <div class="col-6 mb-3">
          <div class="form-group">
            <label for="lastName">Sobrenome</label>
            <input
              type="text"
              id="lastName"
              class="form-control"
              name="lastName"
              formControlName="lastName"
              [maxlength]="52"
            />
          </div>
        </div>

        <div class="col-6 mb-3">
          <div class="form-group">
            <label for="phone">Telefone</label>
            <input
              type="text"
              id="phone"
              class="form-control"
              name="phone"
              formControlName="phone"
              [maxlength]="15"
              mask="(00) 00000-0000"
            />
          </div>
        </div>
      </div>
      <div class="info row">
        <div class="col-6 mb-3">
          <div class="form-group">
            <label for="email">Email</label>
            <input
              type="text"
              id="email"
              class="form-control"
              name="email"
              formControlName="email"
              [maxlength]="240"
            />
            <span
              *ngIf="
                userForm.get('email').invalid && userForm.get('email').touched
              "
              class="alert-danger"
            >
              Por favor digite um email válido!
            </span>
          </div>
        </div>
        <div class="col-6 mb-3">
          <div class="form-group">
            <label for="password">Senha</label>
            <input
              type="password"
              id="password"
              class="form-control"
              name="password"
              formControlName="password"
              [maxlength]="240"
            />
            <span
              *ngIf="
                userForm.get('password').invalid &&
                userForm.get('password').touched
              "
              class="alert-danger"
            >
              Por favor digite uma senha válida!
            </span>
          </div>
        </div>
      </div>
      <div class="info row">
        <div class="col-12 mb-3">
          <div class="form-group">
            <label for="address">Endereço</label>
            <textarea
              type="text"
              id="address"
              class="form-control"
              name="address"
              formControlName="address"
              rows="3"
            >
            </textarea>
          </div>
        </div>
      </div>
      <div class="info row">
        <div class="col-6 mb-3">
          <div class="form-group">
            <label for="city">Cidade</label>
            <input
              type="text"
              id="city"
              class="form-control"
              name="city"
              formControlName="city"
              [maxlength]="240"
            />
          </div>
        </div>
        <div class="col-6 mb-3">
          <div class="form-group">
            <label for="state">Estado</label>
            <input
              type="text"
              id="state"
              class="form-control"
              name="state"
              formControlName="state"
              [maxlength]="240"
            />
          </div>
        </div>
      </div>
      <div class="info row">
        <div class="col-6 mb-3">
          <div class="form-group">
            <label for="zip">Cep</label>
            <input
              type="text"
              id="zip"
              class="form-control"
              name="zip"
              formControlName="zip"
              [maxlength]="9"
              [minlength]="9"
              mask="00000-000"
            />
          </div>
        </div>

        <div class="col-6 mb-3">
          <div class="form-group">
            <label for="country">País</label>
            <input
              type="text"
              id="country"
              class="form-control"
              name="country"
              formControlName="country"
              [maxlength]="240"
            />
          </div>
        </div>
      </div>
      <div class="info row">
        <div class="col-6 mb-3">
          <div class="form-group">
            <label for="role">Permissão</label>
            <div class="d-flex mt-2">
              <input
                type="checkbox"
                id="roleAdmin"
                name="roleAdmin"
                value="ROLE_ADMIN"
                (change)="toggleRole('ROLE_ADMIN', $event)"
              />
              <label for="roleAdmin">Administrador</label>
            </div>
            <div class="d-flex mt-1">
              <input
                type="checkbox"
                id="roleUser"
                name="roleUser"
                value="ROLE_USER"
                (change)="toggleRole('ROLE_USER', $event)"
              />
              <label for="roleUser">Usuário</label>
            </div>
            <span
              *ngIf="
                userForm.get('role').invalid && userForm.get('role').touched
              "
              class="alert-danger"
            >
              Este campo é obrigatório!
            </span>
          </div>
        </div>

        <div class="col-6 mb-3">
          <div class="form-group">
            <label for="enabled">Status</label>
            <div class="d-flex mt-2">
              <input
                type="radio"
                id="enabledTrue"
                name="enabled"
                value="true"
                formControlName="enabled"
              />
              <label for="enabledTrue">Ativo</label>
            </div>
            <div class="d-flex mt-1">
              <input
                type="radio"
                id="enabledFalse"
                name="enabled"
                value="false"
                formControlName="enabled"
              />
              <label for="enabledFalse">Inativo</label>
            </div>
            <span
              *ngIf="
                userForm.get('enabled').invalid &&
                userForm.get('enabled').touched
              "
              class="alert-danger"
            >
              Este campo é obrigatório!
            </span>
          </div>
        </div>
      </div>
    </form>
    <div class="new-users-buttons">
      <button
        class="save-btn"
        type="submit"
        form="userForm"
        mat-button
        mat-raised-button
        color="primary"
        [disabled]="userForm.invalid || userForm.pending"
      >
        Salvar
      </button>
      <button class="cancel-btn" mat-button mat-raised-button (click)="cancel()">Cancelar</button>
    </div>
  </div>
</div>
